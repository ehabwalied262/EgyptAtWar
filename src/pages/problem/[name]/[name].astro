---
type Article = {
  title: string;
  description: string;
  image: string;
};

// دالة getStaticPaths
export function getStaticPaths() {
  const articles = [
    {
      "title": "الفقر",
      "description": "يعيش ملايين المصريين تحت خط الفقر، مما يجعلهم غير قادرين على تلبية احتياجاتهم الأساسية مثل الغذاء، السكن، والرعاية الصحية.",
      "image": "/egypt-map.png"
    },
    {
      "title": "التعليم",
      "description": "يعاني النظام التعليمي في مصر من ضعف المناهج، قلة الموارد، وطرق التدريس التقليدية التي لا تواكب متطلبات العصر.",
      "image": "/egypt-map.png"
    },
    {
      "title": "ضرب الأطفال",
      "description": "العنف ضد الأطفال ممارسة شائعة في البيوت والمدارس، مما يؤثر سلبًا على صحتهم النفسية وقدراتهم على بناء شخصيات سوية.",
      "image": "/egypt-map.png"
    },
  ];

  return articles.map((article) => ({
    params: { name: article.title.replace(/\s+/g, '-').toLowerCase() }, // تحويل العنوان إلى slug
  }));
}

// تحديد نوع المقالات المتوقعة في Astro.props
const { article }: { article: Article } = Astro.props;

if (!article) {
  throw new Error('Slug is missing');
}
---

<section class="py-12">
  <div class="max-w-5xl mx-auto px-4">
    <!-- عنوان المقال -->
    <h1 class="text-4xl font-bold text-center mb-12">{article.title}</h1>
    <div class="flex flex-col md:flex-row gap-8">
      <!-- الصورة -->
      <div class="md:w-1/3 flex-shrink-0">
        <img
          src={article.image}
          alt={article.title}
          class="w-full h-96 object-cover rounded-lg shadow-md"
        />
      </div>
      <div class="md:w-2/3">
        <!-- وصف المقال -->
        <p class="text-lg text-white mb-8">{article.description}</p>
      </div>
    </div>
  </div>
</section>
