---
export function getStaticPaths() {
  const presidents = [
  { 
    nameAr: "محمد نجيب", 
    nameEn: "naguib", 
    img: "/naguib.jpg", 
    years: "1953-1954",
    events: [
      { date: "1952", description: "شارك في ثورة 23 يوليو ضد الملك فاروق." },
      { date: "1953", description: "أصبح أول رئيس لجمهورية مصر العربية." },
      { date: "1954", description: "أُجبر على الاستقالة ووُضع تحت الإقامة الجبرية." }
    ]
  },
  { 
    nameAr: "جمال عبد الناصر", 
    nameEn: "nasser", 
    img: "/nasser.jpg", 
    years: "1956-1970",
    events: [
      { date: "1956", description: "أصبح رئيس مصر بعد استفتاء شعبي." },
      { date: "1956", description: "تأميم قناة السويس، مما أدى إلى العدوان الثلاثي." },
      { date: "1967", description: "هزيمة مصر في حرب 1967 وخسارة سيناء." },
      { date: "1970", description: "توفي إثر نوبة قلبية بعد مؤتمر القمة العربية." }
    ]
  },
  { 
    nameAr: "أنور السادات", 
    nameEn: "sadat", 
    img: "/sadat.jpg", 
    years: "1970-1981",
    events: [
      { date: "1973", description: "قاد حرب أكتوبر لاستعادة سيناء من إسرائيل." },
      { date: "1977", description: "زار إسرائيل وألقى خطابًا في الكنيست الإسرائيلي." },
      { date: "1979", description: "وقع معاهدة السلام مع إسرائيل." },
      { date: "1981", description: "تم اغتياله خلال عرض عسكري في ذكرى انتصار أكتوبر." }
    ]
  },
  { 
    nameAr: "حسني مبارك", 
    nameEn: "mubarak", 
    img: "/mubarak.jpg", 
    years: "1981-2011",
    events: [
      { date: "1981", description: "أصبح رئيس مصر بعد اغتيال أنور السادات." },
      { date: "1991", description: "شارك في حرب الخليج ضمن التحالف الدولي ضد العراق." },
      { date: "2005", description: "أجرى أول انتخابات رئاسية تعددية في مصر." },
      { date: "2011", description: "أجبر على التنحي بعد ثورة 25 يناير." }
    ]
  },
  { 
    nameAr: "محمد مرسي", 
    nameEn: "morsi", 
    img: "/morsi.jpg", 
    years: "2012-2013",
    events: [
      { date: "2012", description: "أصبح أول رئيس مدني منتخب لمصر." },
      { date: "2012", description: "أصدر إعلانًا دستوريًا مثيرًا للجدل أدى إلى احتجاجات واسعة." },
      { date: "2013", description: "أُطيح به في 3 يوليو بعد مظاهرات حاشدة." }
    ]
  },
  { 
    nameAr: "عبد الفتاح السيسي", 
    nameEn: "sisi", 
    img: "/sisi.jpg", 
    years: "2014-Present",
    events: [
      { date: "2013", description: "قاد عزل الرئيس محمد مرسي بعد احتجاجات واسعة." },
      { date: "2014", description: "انتُخب رئيسًا لمصر بعد حصوله على نسبة كبيرة من الأصوات." },
      { date: "2018", description: "أعيد انتخابه رئيسًا لولاية ثانية." },
      { date: "2023", description: "أعيد انتخابه لفترة رئاسية ثالثة بعد تعديل الدستور." }
    ]
  }
];


  return presidents.map((president) => ({
    params: { name: president.nameEn }, // Use the English name for the URL
    props: { president }, // Pass the entire president object as props
  }));
}

// Access the 'president' prop passed via getStaticPaths
const { president } = Astro.props;

if (!president) {
  throw new Error("No president data found for this page");
}
---

<html lang="ar">
  <head>
    <meta charset="utf-8" />
    <title>{president.nameAr} - رؤساء مصر</title>
    <link rel="stylesheet" href="/global.css" />

    <style>
      body {
        background-color: #1a202c;
        color: white;
        font-family: Arial, sans-serif;
      }
      .timeline {
        position: relative;
        padding: 20px 0;
        margin: 20px auto;
        width: 90%;
        max-width: 600px;
      }
      .timeline:before {
        content: "";
        position: absolute;
        top: 0;
        bottom: 0;
        left: 50%;
        width: 4px;
        background: #4a5568;
        transform: translateX(-50%);
      }
      .timeline-item {
        position: relative;
        width: 50%;
        padding: 10px 20px;
      }
      .timeline-item:nth-child(odd) {
        left: 0;
      }
      .timeline-item:nth-child(even) {
        left: 50%;
      }
      .timeline-marker {
        position: absolute;
        top: 15px;
        left: 50%;
        width: 20px;
        height: 20px;
        background: #f6ad55;
        border-radius: 50%;
        transform: translateX(-50%);
      }
      .timeline-content {
        background: #2d3748;
        padding: 10px;
        border-radius: 6px;
        box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.3);
      }
      .timeline-date {
        font-weight: bold;
        margin-bottom: 5px;
      }
      .pagination {
        text-align: center;
        margin-top: 20px;
      }
      .pagination button {
        background: #f6ad55;
        border: none;
        padding: 5px 10px;
        margin: 5px;
        cursor: pointer;
        border-radius: 4px;
      }
    </style>
    
  </head>
  <body class="bg-gray-900 text-white min-h-screen">
    <div id="page-content" class="page-transition">
      <section class="py-12">
        <div class="max-w-5xl mx-auto px-4">
          <h1 class="text-4xl font-bold text-center mb-12">{president.nameAr}</h1>
          <div class="flex flex-col md:flex-row gap-8">
            <!-- Image -->
            <div class="md:w-1/3 flex-shrink-0">
              <img
                src={president.img}
                alt={president.nameAr}
                class="w-full h-96 object-cover rounded-lg shadow-md"
              />
            </div>
            <!-- Article -->
            <div class="md:w-2/3">
              <div class="bg-gray-800 rounded-lg p-6 shadow-md">
                <h2 class="text-2xl font-semibold mb-4">عن {president.nameAr}</h2>
                <p class="text-lg leading-relaxed">
                  هنا ممكن تكتبي مقال عن {president.nameAr}. دي مجرد فقرة مؤقتة، ممكن
                  تحطي فيها معلومات زي فترة حكمه، إنجازاته، أو أي حاجة تانية نفسك
                  تضيفيها.
                </p>
              </div>
            </div>
          </div>
             <!-- Timeline Section -->
        <h2 class="text-2xl font-semibold mb-4 text-center">Timeline</h2>
        <div class="relative overflow-x-auto">
          <ul class="timeline">
            {president.events.map((timelineEvent: any) => (
              <li class="timeline-item">
                <!-- Dot Marker -->
                <div class="timeline-marker"></div>
                
                <!-- Content Container -->
                <div class="timeline-content">
                  <div class="timeline-date">{timelineEvent.date}</div>
                  <div class="timeline-description">
                    <p>{timelineEvent.description}</p>
                  </div>
                </div>
              </li>
        ))}
      </ul>
    </div>
        </div>
      </section>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const pageContent = document.getElementById('page-content');
        if (pageContent) {
          pageContent.classList.remove('page-transition');
        }
      });


      document.addEventListener('DOMContentLoaded', () => {
  const timelineItems = document.querySelectorAll('.timeline-item');
  const itemsPerPage = 3; // Number of items per page
  let currentPage = 1;

  function showPage(page: any) {
    timelineItems.forEach((item, index) => {
      const itemElement = item as HTMLElement; // Cast to HTMLElement
      if (index >= (page - 1) * itemsPerPage && index < page * itemsPerPage) {
        itemElement.style.display = 'block';
      } else {
        itemElement.style.display = 'none';
      }
    });
  }

  function setupPagination() {
    const totalPages = Math.ceil(timelineItems.length / itemsPerPage);
    const paginationContainer = document.createElement('div');
    paginationContainer.classList.add('pagination');

    for (let i = 1; i <= totalPages; i++) {
      const button = document.createElement('button');
      button.textContent = i.toString(); // Ensure textContent is a string
      button.addEventListener('click', () => {
        currentPage = i;
        showPage(currentPage);
      });
      paginationContainer.appendChild(button);
    }

    document.body.appendChild(paginationContainer);
  }

  showPage(currentPage);
  setupPagination();
});
    </script>
  </body>
</html>